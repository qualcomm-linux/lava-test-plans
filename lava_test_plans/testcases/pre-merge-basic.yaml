{% extends "testcases/templates/master.jinja2" %}

{% set test_name = test_name | default("pre-merge-basic") %}
{% set test_timeout = 240 %}

{# Get excluded tests list from device variables #}
{% set excluded_tests = EXCLUDED_TESTS|default([]) %}

{# Define all tests with their details #}
{% set all_tests = [
    {"name": "hotplug", "path": "Runner/suites/Kernel/Baseport/hotplug/hotplug.yaml"},
    {"name": "CPUFreq_Validation", "path": "Runner/suites/Kernel/Baseport/CPUFreq_Validation/CPUFreq_Validation.yaml"},
    {"name": "Interrupts", "path": "Runner/suites/Kernel/Baseport/Interrupts/Interrupts.yaml"},
    {"name": "cdsp_remoteproc", "path": "Runner/suites/Kernel/Baseport/cdsp_remoteproc/cdsp_remoteproc.yaml"},
    {"name": "adsp_remoteproc", "path": "Runner/suites/Kernel/Baseport/adsp_remoteproc/adsp_remoteproc.yaml"},
    {"name": "WiFi_Firmware_Driver", "path": "Runner/suites/Connectivity/WiFi/WiFi_Firmware_Driver/WiFi_Firmware_Driver.yaml"},
    {"name": "WiFi_OnOff", "path": "Runner/suites/Connectivity/WiFi/WiFi_OnOff/WiFi_OnOff.yaml"},
    {"name": "OpenCV", "path": "Runner/suites/Multimedia/OpenCV/OpenCV.yaml"},
    {"name": "irq", "path": "Runner/suites/Kernel/Baseport/irq/irq.yaml"},
    {"name": "BT_ON_OFF", "path": "Runner/suites/Connectivity/Ethernet/BT_ON_OFF/BT_ON_OFF.yaml"},
    {"name": "Ethernet", "path": "Runner/suites/Connectivity/Ethernet/Ethernet.yaml"}
] %}

{% block test_target %}
  {{ super() }}
    {% for test in all_tests %}
    {% if test.name not in excluded_tests %}
    - from: git
      name: "{{ test.name }}"
      path: {{ test.path }}
      repository: {{ TEST_DEFINITIONS_REPOSITORY }}
    {% endif %}
    {% endfor %}
{% endblock test_target %}
